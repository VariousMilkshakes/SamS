var parse_argv = require('../lib-cov/reader');
var assert = require('assert');

describe('parse_argv', function () {
  it('should parse argv', function () {
    var result = parse_argv({
      _: 'hello there beautiful'.split(' '),
      a: true,
      b: 'uraqt',
      silent: true,
      'api-key': 'test-key-horse-battery'
    });

    assert(result.opt.silent);
    assert(result.opt['api-key']);
    assert(result.cmd.a);
    assert(result.cmd.b === 'uraqt');
    assert(result.arg[0] === 'hello');
  });
});
