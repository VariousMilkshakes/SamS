var common = require('../common');
var orchestrate = require('orchestrate');

var USAGE = "orcli put [collection] [key]";

module.exports = function (args, kwargs) {
  var db = common.get_db(this.api_key);

  var collection = args[0];
  var key = args[1];
  var ref;

  if (args.length !== 2) throw new Error(USAGE);
  
  if (kwargs['if-match']) {
    ref = kwargs['if-match'];
    delete kwargs['if-match'];
  } else if (kwargs['if-none-match']) {
    ref = false;
    delete kwargs['if-none-match'];
  }

  return db.put(collection, key, kwargs, ref);
};
